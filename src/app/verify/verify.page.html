<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/register"></ion-back-button>
    </ion-buttons>
    <ion-title>Verify Email</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <div class="verify-container">
    <div class="verification-info">
      <h2>Enter Verification Code</h2>
      <p>We've sent a 6-digit verification code to your email address.</p>
    </div>

    <form [formGroup]="verifyForm" (ngSubmit)="onSubmit()">
      <ion-item>
        <ion-label position="floating">Verification Code</ion-label>
        <ion-input type="text" formControlName="code" maxlength="6"></ion-input>
      </ion-item>
      <div
        class="validation-error"
        *ngIf="verifyForm.get('code')?.touched && verifyForm.get('code')?.errors?.['required']"
      >
        Verification code is required
      </div>
      <div
        class="validation-error"
        *ngIf="verifyForm.get('code')?.touched && verifyForm.get('code')?.errors?.['minlength']"
      >
        Code must be 6 digits
      </div>

      <div class="error-message" *ngIf="errorMessage">{{ errorMessage }}</div>

      <ion-button expand="block" type="submit" [disabled]="!verifyForm.valid">
        Verify Email
      </ion-button>
    </form>

    <div class="resend-code">
      Didn't receive the code?
      <a href="javascript:void(0)" (click)="resendCode()">Resend Code</a>
    </div>
  </div>
</ion-content>
